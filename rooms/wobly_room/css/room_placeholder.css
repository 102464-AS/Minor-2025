/* JA, IK HEB VAR GEBRUIKT, WEET IK. HET WAS DE MANIER DIE IK HEB GEVONDEN DAT WEL NORMAAL WERKTE */

/* Voor de zijwanden, plafond en vloer, kan je nog niks duidelijk erop neerzetten. Als het nodig is moet ik daar er even naar kijken. */

:root{
    --wall: #00ba73;     /* De kleur van de zijwanden*/
    --edge: #171717;     /* De kleur van de vloer en het plafond */
    --spot-intensity: 1; /* basis helderheid spotlight */
    --spot-hue: 0;          /* kleur voor interactieve show */
    --beam-width: 28vmin;   /* breedte van de lichtkegel onderaan */
    --beam-offset: 0px;     /* horizontale verschuiving van de spotlight */
    /* gekleurde accenten i.p.v. puur zwart/wit */
    --line-wall: hsl(160 80% 22% / 0.65);   /* lijnen op de zijwanden (donker groen) */
    --line-edge: hsl(260 45% 40% / 0.55);   /* lijnen op plafond/vloer (zacht paars) */
    --overlay-line: hsl(200 20% 12% / 0.16);/* overlay-lijnen (neutraal koel) */
    /* camera/tilt vars voor 3D gevoel */
    --tilt-x: 0deg;
    --tilt-y: 0deg;
    --cam-z: 0px;
    --persp-origin-x: 50%;
    --persp-origin-y: 50%;
    /* fullscreened de hele canvas */
    --room-w: 100vw;
    --room-h: 100svh;
    /* Zo de illusie van 3d kamer zich verbetert */
    --inner-w: calc(var(--room-w) * 0.92);
    --inner-h: calc(var(--room-h) * 0.86);
    /* diepte van het effect naar de kamer, ik zou het gwoon zo laten. (groter = dieper) */
    --depth:   calc(min(var(--room-w), var(--room-h)) * 0.55);
    --room-ambient: 1.25;   /* helderheid van de kamer voor klik */
  }

  * { box-sizing: border-box; }

  html{ height:100%; }
  /* wat positie dingen, niks belangrijks om verder aan te passen */
  body{
    margin:0;
    min-height:100svh;
    display:grid;
    place-items:center; 
    /* Lichte achtergrond v贸贸r klik */
    background:#eef6f3;
    background: radial-gradient(120vmax 80vmax at 50% 40%, #ffffff 0%, #ecf7f3 45%, #e6f2ef 75%, #deece9 100%);
  }
  /* Donkere achtergrond wanneer show actief is */
  body.lightshow{
    background:#141822;
    background: radial-gradient(120vmax 80vmax at 50% 40%, hsl(220 16% 44%) 0%, hsl(228 18% 26%) 40%, hsl(230 22% 16%) 70%, hsl(232 24% 12%) 100%);
  }

  /* UI button voor de show */
  .light-btn{
    position:fixed;
    z-index:10;
    top:1rem;
    left:50%;
    transform:translateX(-50%);
    padding:0.7rem 1.1rem;
    border-radius:999px;
    border:1px solid rgba(255,255,255,0.25);
    background:linear-gradient(180deg, rgba(255,255,255,0.14), rgba(255,255,255,0.02));
    color:#fff;
    font:600 14px/1.1 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    letter-spacing:0.2px;
    cursor:pointer;
    backdrop-filter:saturate(140%) blur(8px);
    -webkit-backdrop-filter:saturate(140%) blur(8px);
    box-shadow:0 6px 20px rgba(0,0,0,0.35);
  }
  .light-btn:hover{ box-shadow:0 10px 28px rgba(0,0,0,0.45); }
  .light-btn:active{ transform:translateX(-50%) translateY(1px) scale(0.99); }

  .room{
    position:fixed;
    inset:0; /* Altijd 0px margin overal */
    width:var(--room-w);
    height:var(--room-h);
    /* Perspectief dingen, zorgt ervoor dat het perspectief klopt naar elk grootte scherm (hoop ik) */
    perspective: calc(min(var(--room-w), var(--room-h)) * 0.85);
    perspective-origin: var(--persp-origin-x) var(--persp-origin-y);
    display:grid;
    place-items:center;
  }

  /* de container naar 3d effects */
  .space{
    position:relative;
    width:var(--room-w);
    height:var(--room-h);
    transform-style: preserve-3d;
    transform:
      translateZ(var(--cam-z))
      rotateX(var(--tilt-x))
      rotateY(var(--tilt-y));
    transition: transform 120ms ease-out;
  }

  /* Zijwanden */
  .face{ position:absolute; top:50%; left:50%; display:block; }
  /* druk de frames tegen de randen zodat er geen gap naast de kamer is */
  .space::before,
  .space::after{ content:""; position:fixed; inset:0; }

  /* laat de objecten zeker tranformen */
  .wall-left, .wall-right, .ceiling, .floor, .back{ will-change: transform; }
  /* Maak de kamer helderder v贸贸r de show (geen invloed op spotlight) */
  .ceiling, .floor, .wall-left, .wall-right, .back{
    filter: brightness(var(--room-ambient));
  }
  .lightshow .ceiling, .lightshow .floor, .lightshow .wall-left, .lightshow .wall-right, .lightshow .back{
    filter: brightness(1.15);
  }

  /* Middenscherm, waar de main content op komt te staan */
  .back{
    width:126%;
    height:110.5%;
    background:var(--back);
    display:grid; 
    place-items:center; 
    /* maakt de center exact in het midden, ook plaats die het middenscherm iets naar voren */
    transform: translate(-45%, -41%) translateZ(calc(-1 * var(--depth)));
  }

  /* Zijwanden, spreekt voor zichzelf */
  .wall-left{
    width:var(--depth);
    height:var(--inner-h);
    background:var(--wall);
    transform-origin: center;
    transform: translate(-50%, -50%) translateX(calc(-1 * var(--inner-w) / 2)) rotateY(90deg);
    background: linear-gradient(to top, var(--line-wall) 4px, transparent 4px);
    background-size: 46px 46px;
    background-position: 0 0;
    box-shadow: inset -28px 0 60px rgba(0,0,0,0.25); /* schaduw naar de hoek */
  }
  .wall-right{
    width:var(--depth);
    height:var(--inner-h);
    background:var(--wall);
    transform-origin: center;
    transform: translate(-50%, -50%) translateX(calc(var(--inner-w) / 2)) rotateY(-90deg);
    background: linear-gradient(to top, var(--line-wall) 4px, transparent 4px);
    background-size: 46px 46px;
    background-position: 0 0;
    box-shadow: inset 28px 0 60px rgba(0,0,0,0.25);
  }

  /* Plafond en vloer, spreekt ook voor zichzelf */
  .ceiling{
    width:var(--inner-w);
    height:var(--depth);
    background:var(--edge);
    transform-origin: center;
    transform: translate(-50%, -50%) translateY(calc(-1 * var(--inner-h) / 2)) rotateX(-90deg);
    background: linear-gradient(to right, var(--line-edge) 4px, transparent 4px);
    
    background-size: 46px 46px;
    background-position: 0 0;
    box-shadow: inset 0 -28px 60px rgba(0,0,0,0.28);
  }
  .floor{
    width:var(--inner-w);
    height:var(--depth);
    background:var(--edge);
    transform-origin: center;
    transform: translate(-50%, -50%) translateY(calc(var(--inner-h) / 2)) rotateX(90deg);
    background: linear-gradient(to right, var(--line-edge) 4px, transparent 4px);
    background-size: 46px 46px;
    background-position: 0 0;
    box-shadow: inset 0 28px 60px rgba(0,0,0,0.28);
  }

/* midden item changer */
  .back{
   
    inset:40% 80%;
    background:var(--back);
    display:grid;
    background-repeat: no-repeat;
    background-size: contain;
  }


  .spotlight{
    position:absolute;
    top:62%;
    left:50%;
    width:1px; 
    height:1px;
    transform-style: preserve-3d;
    pointer-events:none;
    opacity:0; 
    transition:opacity 0.4s ease;
    transform: translate(-50%, -50%) translateX(var(--beam-offset));
  }
  .spotlight__beam{
    position:absolute;
    top:60%;
    left:50%;
    width:var(--beam-width);               
    height:var(--inner-h);      
    transform: translate(-50%, -50%) translateX(var(--beam-offset-x, 0px)) translateZ(calc(-0.5 * var(--depth)));
    clip-path: polygon(46% 0%, 54% 0%, 78% 100%, 22% 100%);
    background:
      radial-gradient(ellipse at 50% 0%, hsl(var(--spot-hue) 90% 80% / 0.95) calc(6% * var(--spot-intensity)), hsl(var(--spot-hue) 90% 75% / 0.40) 18%, hsl(var(--spot-hue) 90% 70% / 0.16) 36%, hsl(var(--spot-hue) 90% 65% / 0.08) 56%, hsl(var(--spot-hue) 90% 60% / 0) 80%);
    filter: blur(2px);
    opacity: calc(0.85 * var(--spot-intensity));
    mix-blend-mode: screen;
  }
  .spotlight__floor-glow{
    position:absolute;
    top:50%;
    left:50%;
    width:min(46vmin, calc(var(--inner-w) * 0.42));
    height:min(46vmin, calc(var(--inner-w) * 0.42));
    transform:
      translate(-50%, -50%)
      translateY(calc(var(--inner-h) / 2))
      rotateX(90deg)
      translateZ(1px);
    border-radius:50%;
    background: radial-gradient(circle at 50% 50%, hsl(var(--spot-hue) 90% 80% / 0.85) 0%, hsl(var(--spot-hue) 90% 70% / 0.40) 22%, hsl(var(--spot-hue) 90% 60% / 0.14) 48%, hsl(var(--spot-hue) 90% 55% / 0.04) 74%, hsl(var(--spot-hue) 90% 50% / 0) 100%);
    opacity: calc(0.9 * var(--spot-intensity));
    mix-blend-mode: screen;
  }

  .lightshow .spotlight{ opacity:1; }
 
  @keyframes slideY {
    0%   { background-position: 0 0; }
    100% { background-position: 0 -46px; }
  }
  @keyframes slideX {
    0%   { background-position: 0 0; }
    100% { background-position: -46px 0; }
  }
  @keyframes rotateLines {
    0%   { transform: translate(-50%, -50%) rotateZ(0deg); }
    100% { transform: translate(-50%, -50%) rotateZ(360deg); }
  }

  .wall-left,
  .wall-right{
    animation: slideY 1.8s linear infinite;
  }
  .ceiling,
  .floor{
    animation: slideX 1.8s linear infinite;
  }

  .face::after{
    content:"";
    position:absolute;
    top:50%;
    left:50%;
    width:120%;
    height:120%;
    pointer-events:none;
    opacity:0.08; /* subtiel standaard */
    transform: translate(-50%, -50%);
    background:
      repeating-linear-gradient(45deg,
        var(--overlay-line) 0px,
        var(--overlay-line) 2px,
        transparent 8px,
        transparent 12px
      );
    mix-blend-mode: multiply;
    animation: rotateLines 28s linear infinite;
  }
  .lightshow .face::after{
    opacity:0.18;
    animation: rotateLines 16s linear infinite;
  }

  body.lightshow{
    --overlay-line: hsl(var(--spot-hue) 80% 60% / 0.14);
    --line-wall: hsl(calc(var(--spot-hue) + 60) 70% 45% / 0.55);
    --line-edge: hsl(calc(var(--spot-hue) + 200) 60% 48% / 0.45);
  }

  .back-button {
    border: 5px outset #FAF9F6;
    background-color: white;
    color: black !important;
    font-size: 30px;
    padding: 6px;
    cursor: pointer;
    z-index: 9999;
    position: fixed;
    bottom: 0;
    width: 100px;
    left: calc(50%- 100px);
    text-align: center;
    text-decoration: none;
    color: white;
  }